\doxysection{Reference\+Manager.\+h}
\hypertarget{_reference_manager_8h_source}{}\label{_reference_manager_8h_source}\index{include/core/ReferenceManager.h@{include/core/ReferenceManager.h}}
\doxymbox{\hyperlink{_reference_manager_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}\doxymbox{\hyperlink{_hash_table_8h}{../data\_structures/HashTable.h}}"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}\doxymbox{\hyperlink{_doubly_linked_list_8h}{../data\_structures/DoublyLinkedList.h}}"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}\doxymbox{\hyperlink{_branch_8h}{../entities/Branch.h}}"{}}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{namespace\ }\doxymbox{\hyperlink{namespacecore}{core}}\ \{}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{class\ }\doxymbox{\hyperlink{classcore_1_1_reference_manager_a914818d3c858bc95afabc555fea79b61}{ReferenceManager}}\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{classdata__structures_1_1_hash_table}{data\_structures::HashTable<std::string,\ entities::Branch*>}}\ branches\_;}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{classdata__structures_1_1_doubly_linked_list}{data\_structures::DoublyLinkedList<entities::Branch*>}}\ managed\_branches\_;}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{classentities_1_1_branch}{entities::Branch}}*\ current\_branch\_;}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:\ \ }
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{classcore_1_1_reference_manager_a914818d3c858bc95afabc555fea79b61}{ReferenceManager}}()\ :\ current\_branch\_(nullptr)\ \{\}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{classcore_1_1_reference_manager_ae726dc3640219dde0e1c3d4a416b37db}{\string~ReferenceManager}}()\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ it\ =\ managed\_branches\_.begin();\ it\ !=\ managed\_branches\_.end();\ ++it)\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ *it;}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classcore_1_1_reference_manager_a93e001fea18f34809ab8a485676fbd5b}{create\_branch}}(\textcolor{keyword}{const}\ std::string\&\ name,\ \doxymbox{\hyperlink{classentities_1_1_commit}{entities::Commit}}*\ target\_commit)\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (branches\_.contains(name))\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Branch\ already\ exists:\ "{}}\ +\ name);}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{classentities_1_1_branch}{entities::Branch}}*\ new\_branch\ =\ \textcolor{keyword}{new}\ \doxymbox{\hyperlink{classentities_1_1_branch}{entities::Branch}}(name,\ target\_commit);}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ branches\_.put(name,\ new\_branch);}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ managed\_branches\_.push\_back(new\_branch);}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classcore_1_1_reference_manager_a1a69f3a42969db14942aa1960b7ef3c0}{checkout\_branch}}(\textcolor{keyword}{const}\ std::string\ name)\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!branches\_.contains(name))\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Branch\ not\ found:\ "{}}\ +\ name);}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ current\_branch\_\ =\ branches\_.get(name);}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \doxymbox{\hyperlink{classcore_1_1_reference_manager_a9e60b76f0e7bc623e96cbe0a347f3017}{update\_head}}(\doxymbox{\hyperlink{classentities_1_1_commit}{entities::Commit}}*\ new\_commit)\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (current\_branch\_)\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ current\_branch\_-\/>set\_last\_commit(new\_commit);}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}HEAD\ is\ detached\ (No\ active\ branch)"{}});}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{classentities_1_1_branch}{entities::Branch}}*\ \doxymbox{\hyperlink{classcore_1_1_reference_manager_a1adcfac73dddcae90c8322545d324f1c}{get\_current\_branch}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ current\_branch\_;\ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \doxymbox{\hyperlink{classentities_1_1_branch}{entities::Branch}}*\ \doxymbox{\hyperlink{classcore_1_1_reference_manager_a8bc633d5e4e1027c1c270e8c1a2852bc}{get\_branch}}(\textcolor{keyword}{const}\ std::string\&\ name)\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (branches\_.contains(name))\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ branches\_.get(name);}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \doxymbox{\hyperlink{classdata__structures_1_1_doubly_linked_list}{data\_structures::DoublyLinkedList<entities::Branch*>}}\&\ \doxymbox{\hyperlink{classcore_1_1_reference_manager_a01c4249c4763d078a54a15db7ff4a20d}{get\_all\_branches}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ managed\_branches\_;\ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \};}
\DoxyCodeLine{00140\ \}}

\end{DoxyCode}
